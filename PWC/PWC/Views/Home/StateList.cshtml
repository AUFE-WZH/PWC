@model Tuple<List<PWC.Models.UserProblem>, int, int>
@{
    Layout = "~/Views/Shared/_MyHomePage.cshtml";
}

<div style="margin-top:70px">

    <div class="panel panel-primary">

        <div class="panel-heading"><p style="font-size:30px ;margin-bottom:0px">StateList</p></div>
        <div class="panel-body">
            <p style="text-align:center;font-size:20px"><strong>状态列表</strong></p>
        </div>

        <table class="table">
            <tr class="info">
                <th width="10%" class="hidden-xs header text-center">编号</th>
                <th width="10%" class="header text-center">用户名</th>
                <th width="10%" class="header text-center">题目</th>
                <th width="10%" class="header text-center">提交状态</th>
                <th width="10%" class="hidden-xs header text-center">提交时间</th>
            </tr>
            @{

                if (Model.Item1.Count > 0)
                {
                    var bianhao = 1 + 3 * Model.Item3 - 3;
                    foreach (var item in Model.Item1)
                    {
                        <tr>
                            <td class="hidden-xs">
                                <div class="text-center">
                                    @{@bianhao; bianhao++;}
                                </div>
                            </td>
                            <td>
                                <div class="text-center">
                                    <nobr>@item.User.Name</nobr>
                                </div>
                            </td>
                            <td>
                                <div class="text-center">
                                    <nobr>@item.Problem.Name</nobr>
                                </div>
                            </td>
                            <td>
                                <div class="text-center">
                                    <nobr>
                                        @{
                                            @item.Result.Type
                                        }
                                    </nobr>
                                </div>
                            </td>
                            <td class="hidden-xs">
                                <div class="text-center">
                                    @item.SubmitDate
                                </div>
                            </td>
                        </tr>

                    }
                }
            }
        </table>
        <center>
            <nav class="center">
                <ul class="pagination">
                    @{
                        if (Model.Item2 > 0)
                        {
                            int page = Model.Item3;
                            <li class="page-item">
                                @{

                            if (page > 1)
                            {
                                page = page - 1;
                                <a href="/Home/StateList?page=@page">&lt;&lt;</a>
                            }
                            else
                            {
                                <a href="/Home/StateList?page=@page">&lt;&lt;</a>
                            }
                                }
                            </li>
                            page = Model.Item3;
                            for (int i = 1; i <= Model.Item2; i++)
                            {
                                if (i != page)
                                {
                                    <li class="page-item">
                                        <a href="/Home/StateList?page=@i">@i</a>
                                    </li>
                                }
                                else
                                {
                                    <li class="active page-item">
                                        <a href="/Home/StateList?page=@i">@i</a>
                                    </li>
                                }

                            }
                            page = Model.Item3;
                            <li class="page-item">
                                @{
                            if (page < Model.Item2)
                            {
                                page = page + 1;
                                <a href="/Home/StateList?page=@page">&gt;&gt;</a>
                            }
                            else
                            {
                                <a href="/Home/StateList?page=@page">&gt;&gt;</a>
                            }
                                }
                            </li>

                        }

                    }

                </ul>
            </nav>
        </center>
    </div>
</div>

